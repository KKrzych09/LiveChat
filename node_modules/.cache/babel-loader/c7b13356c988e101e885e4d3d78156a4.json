{"ast":null,"code":"import { ref } from 'vue';\nimport { projectFirestore } from '../firebase/config'; // declare the connection & refs inside the function\n// because the collection state is not global (like a user)\n// different collections may be used at once this way\n\nconst useCollection = collection => {\n  let error = ref(null);\n\n  const addDoc = async doc => {\n    error.value = null;\n\n    try {\n      await projectFirestore.collection(collection).add(doc);\n    } catch (err) {\n      console.log(err.message);\n      error.value = 'could not send the message';\n    }\n  };\n\n  return {\n    error,\n    addDoc\n  };\n};\n\nexport default useCollection;","map":{"version":3,"names":["ref","projectFirestore","useCollection","collection","error","addDoc","doc","value","add","err","console","log","message"],"sources":["/Users/kamil/Desktop/Programowanie/JavaScript/Vue/LiveChat/src/composables/useCollection.js"],"sourcesContent":["import { ref } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\n// declare the connection & refs inside the function\n// because the collection state is not global (like a user)\n// different collections may be used at once this way\n\nconst useCollection = (collection) => {\n\n  let error = ref(null)\n\n  const addDoc = async (doc) => {\n    error.value = null\n\n    try {\n      await projectFirestore.collection(collection).add(doc)\n    }\n    catch(err) {\n      console.log(err.message)\n      error.value = 'could not send the message'\n    }\n  }\n\n  return { error, addDoc }\n\n}\n\nexport default useCollection"],"mappings":"AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC,C,CAEA;AACA;AACA;;AAEA,MAAMC,aAAa,GAAIC,UAAD,IAAgB;EAEpC,IAAIC,KAAK,GAAGJ,GAAG,CAAC,IAAD,CAAf;;EAEA,MAAMK,MAAM,GAAG,MAAOC,GAAP,IAAe;IAC5BF,KAAK,CAACG,KAAN,GAAc,IAAd;;IAEA,IAAI;MACF,MAAMN,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EAAwCK,GAAxC,CAA4CF,GAA5C,CAAN;IACD,CAFD,CAGA,OAAMG,GAAN,EAAW;MACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;MACAR,KAAK,CAACG,KAAN,GAAc,4BAAd;IACD;EACF,CAVD;;EAYA,OAAO;IAAEH,KAAF;IAASC;EAAT,CAAP;AAED,CAlBD;;AAoBA,eAAeH,aAAf"},"metadata":{},"sourceType":"module"}