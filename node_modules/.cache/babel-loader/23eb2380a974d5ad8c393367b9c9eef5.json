{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"chat-window\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"messages\"\n};\nconst _hoisted_4 = {\n  class: \"created-at\"\n};\nconst _hoisted_5 = {\n  class: \"name\"\n};\nconst _hoisted_6 = {\n  class: \"message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString($setup.error), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true), $setup.documents ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.forma, doc => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: doc.id,\n      class: \"single\"\n    }, [_createElementVNode(\"span\", _hoisted_4, _toDisplayString(doc.createdAt.toDate()), 1\n    /* TEXT */\n    ), _createElementVNode(\"span\", _hoisted_5, _toDisplayString(doc.name), 1\n    /* TEXT */\n    ), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(doc.message), 1\n    /* TEXT */\n    )]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;;;;;EAEaA,KAAK,EAAC;;;EAEdA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;uBANtBC,oBASM,KATN,cASM,CAROC,8BAAXD,oBAAmC,KAAnC,EAAmCE,UAAnC,EAAmCC,iBAAdF,YAAc,CAAnC,EAA0B;EAAA;EAA1B,sCAQI,EAPOA,kCAAXD,oBAMM,KANN,cAMM,oBALFA,oBAIMI,SAJN,EAIM,IAJN,EAIMC,YAJaC,UAIb,EAJMC,GAAY,IAAT;yBAAfP,oBAIM,KAJN,EAIM;MAJqBQ,GAAG,EAAED,GAAG,CAACE,EAI9B;MAJkCV,KAAK,EAAC;IAIxC,CAJN,GACIW,oBAA4D,MAA5D,cAA4DP,iBAAhCI,GAAG,CAACI,SAAJ,CAAcC,MAAd,EAAgC,CAA5D,EAAgD;IAAA;IAAhD,GACAF,oBAAwC,MAAxC,cAAwCP,iBAAlBI,GAAG,CAACM,IAAc,CAAxC,EAA8B;IAAA;IAA9B,GACAH,oBAA8C,MAA9C,cAA8CP,iBAArBI,GAAG,CAACO,OAAiB,CAA9C,EAAoC;IAAA;IAApC,EAHJ;GAIM,CAJN;;EAAA,CAKE,EANN,sCAOI,CATN","names":["class","_createElementBlock","$setup","_hoisted_2","_toDisplayString","_Fragment","_renderList","_ctx","doc","key","id","_createElementVNode","createdAt","toDate","name","message"],"sourceRoot":"","sources":["/Users/kamil/Desktop/Programowanie/JavaScript/Vue/live-chat/src/components/ChatWindow.vue"],"sourcesContent":["<template>\n  <div class=\"chat-window\">\n    <div v-if=\"error\">{{ error }}</div>\n    <div v-if=\"documents\" class=\"messages\">\n        <div v-for=\"doc in forma\" :key=\"doc.id\" class=\"single\">\n            <span class=\"created-at\">{{ doc.createdAt.toDate() }}</span>\n            <span class=\"name\">{{ doc.name }}</span>\n            <span class=\"message\">{{ doc.message }}</span>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport getCollection from '../composables/getCollection'\nimport { formatDistanceToNow } from 'date-fns'\nimport { computed } from '@vue/runtime-core'\n\nexport default {\n    setup() {\n        const { error, documents } = getCollection('messages')\n\n        const formattedDocuments = computed(() => {\n            if (doc.value) {\n                return documents.value.map(doc => {\n                    let time = formatDistanceToNow(doc.createdAt.toDate())\n                    return { ...doc, createdAt: time }\n                })\n            }\n        })\n\n        return { error, documents, formattedDocuments }\n    }\n}\n</script>\n\n<style>\n    .chat-window {\n        background: #fafafa;\n        padding: 30px 20px;\n    }\n    .single {\n        margin: 18px 0;\n    }\n    .created-at {\n        display: block;\n        color: #999;\n        font-size: 12px;\n        margin-bottom: 4px;\n    }\n    .name {\n        font-weight: bold;\n        margin-right: 6px;\n    }\n    .messages {\n        max-height: 400px;\n        overflow: auto;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}