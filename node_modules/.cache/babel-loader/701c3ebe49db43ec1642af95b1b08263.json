{"ast":null,"code":"import SignupForm from '../components/SignupForm.vue';\nimport LoginForm from '../components/LoginForm.vue';\nimport { ref } from '@vue/reactivity';\nimport { useRouter } from 'vue-router';\nimport provider from '../firebase/config'; // import { AuthProvider, projectAuth } from '../firebase/config'\n\nexport default {\n  components: {\n    SignupForm,\n    LoginForm\n  },\n\n  setup() {\n    const showLogin = ref(true);\n    const router = useRouter(); // Handling redirection to the chat room with custom event provided by LoginForm.vue\n\n    const enterChat = () => {\n      router.push({\n        name: 'chatroom'\n      });\n    }; // const enterWithProvider = async () => {\n    //     const isSuccess = await projectAuth.signInWithProvider(AuthProvider);\n    //     if (isSuccess) {\n    //         await router.push({ name: \"chatroom\" });\n    //     }\n    // } \n\n\n    const googleSignIn = () => {\n      let provider = new firebase.auth.GoogleAuthProvider();\n      firebase.auth().signInWithPopup(provider).then(result => {\n        let token = result.credential.accessToken;\n        let user = result.user;\n        console.log(token); // Token\n\n        console.log(user); // User that was authenticated\n      }).catch(err => {\n        console.log(err); // This will give you all the information needed to further debug any errors\n      });\n    };\n\n    return {\n      showLogin,\n      enterChat\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAkBA,OAAOA,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,QAAP,MAAqB,oBAArB,C,CACA;;AAEA,eAAe;EACXC,UAAU,EAAE;IAAEL,UAAF;IAAcC;EAAd,CADD;;EAEXK,KAAK,GAAG;IACJ,MAAMC,SAAQ,GAAIL,GAAG,CAAC,IAAD,CAArB;IACA,MAAMM,MAAK,GAAIL,SAAS,EAAxB,CAFI,CAIJ;;IACA,MAAMM,SAAQ,GAAI,MAAM;MACpBD,MAAM,CAACE,IAAP,CAAY;QAAEC,IAAI,EAAE;MAAR,CAAZ;IACJ,CAFA,CALI,CASJ;IACA;IACA;IACA;IACA;IACA;;;IACA,MAAMC,YAAW,GAAI,MAAM;MACvB,IAAIR,QAAO,GAAI,IAAIS,QAAQ,CAACC,IAAT,CAAcC,kBAAlB,EAAf;MACZF,QAAO,CACEC,IADT,GAESE,eAFT,CAEyBZ,QAFzB,EAGSa,IAHT,CAGeC,MAAD,IAAY;QAChB,IAAIC,KAAI,GAAID,MAAM,CAACE,UAAP,CAAkBC,WAA9B;QACA,IAAIC,IAAG,GAAIJ,MAAM,CAACI,IAAlB;QACEC,OAAO,CAACC,GAAR,CAAYL,KAAZ,EAHc,CAGK;;QACnBI,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAJc,CAII;MACrB,CART,EASSG,KATT,CASgBC,GAAD,IAAS;QACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EADc,CACI;MACnB,CAXT;IAYQ,CAdA;;IAgBA,OAAO;MAAEnB,SAAF;MAAaE;IAAb,CAAP;EACJ;;AAlCW,CAAf","names":["SignupForm","LoginForm","ref","useRouter","provider","components","setup","showLogin","router","enterChat","push","name","googleSignIn","firebase","auth","GoogleAuthProvider","signInWithPopup","then","result","token","credential","accessToken","user","console","log","catch","err"],"sourceRoot":"","sources":["/Users/kamil/Desktop/Programowanie/JavaScript/Vue/live-chat/src/views/WelcomeView.vue"],"sourcesContent":["<template>\n    <div class=\"welcome container\">\n        <p>Welcome</p>\n        <div v-if=\"showLogin\">\n            <h2>Login</h2>\n            <LoginForm @login=\"enterChat\" />\n            <p>No account yet? <span @click=\"showLogin = false\">Signup</span> instead</p>\n            <!-- <button @click=\"enterWithProvider\">Log in with Google</button> -->\n        </div>\n        <div v-else>\n            <h2>Sign up</h2>\n            <SignupForm @signup=\"enterChat\" />\n            <p>Already registered? <span @click=\"showLogin = true\">Login</span> instead</p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport SignupForm from '../components/SignupForm.vue'\nimport LoginForm from '../components/LoginForm.vue'\nimport { ref } from '@vue/reactivity'\nimport { useRouter } from 'vue-router'\nimport provider from '../firebase/config'\n// import { AuthProvider, projectAuth } from '../firebase/config'\n\nexport default {\n    components: { SignupForm, LoginForm },\n    setup() {\n        const showLogin = ref(true)\n        const router = useRouter()\n\n        // Handling redirection to the chat room with custom event provided by LoginForm.vue\n        const enterChat = () => {\n            router.push({ name: 'chatroom' })\n        }\n\n        // const enterWithProvider = async () => {\n        //     const isSuccess = await projectAuth.signInWithProvider(AuthProvider);\n        //     if (isSuccess) {\n        //         await router.push({ name: \"chatroom\" });\n        //     }\n        // } \n        const googleSignIn = () => {\n            let provider = new firebase.auth.GoogleAuthProvider();\nfirebase\n        .auth()\n        .signInWithPopup(provider)\n        .then((result) => {\n          let token = result.credential.accessToken;\n          let user = result.user;\n            console.log(token) // Token\n            console.log(user) // User that was authenticated\n        })\n        .catch((err) => {\n          console.log(err); // This will give you all the information needed to further debug any errors\n        });\n        }\n\n        return { showLogin, enterChat }\n    }\n }\n</script>\n\n<style>\n    .welcome {\n        text-align: center;\n        padding: 20px 0;\n    }\n    /* form styles */\n    .welcome form {\n        width: 300px;\n        margin: 20px auto;\n    }\n    .welcome label {\n        display: block;\n        margin: 20px 0 10px;\n    }\n    .welcome input {\n        width: 100%;\n        padding: 10px;\n        border-radius: 20px;\n        border: 1px solid #eee;\n        outline: none;\n        color: #999;\n        margin: 10px auto;\n    }\n    .welcome span {\n        font-weight: bold;\n        text-decoration: underline;\n        cursor: pointer;\n    }\n    .welcome button {\n        margin: 20px auto;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}